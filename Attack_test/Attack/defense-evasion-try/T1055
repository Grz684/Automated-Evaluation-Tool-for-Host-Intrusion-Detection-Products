;
#nohup
cd /home/ubuntu/attack/linux-process-injection/sample-process
gcc -o sample sample.c
tmux new-session -d -s my_session "./sample"
#pre
cd /home/ubuntu/attack/linux-process-injection
gcc -o inject inject.c
#check
pid=$(pgrep sample)
echo '010404' | sudo -S /home/ubuntu/attack/linux-process-injection/inject $pid
tmux send-keys -t my_session:0 "ls -al" Enter
echo "利用ptrace系统调用将shellcode注入sample进程(pid:$pid)，shellcode执行将打开子shell，在该shell中执行命令："
tmux capture-pane -t my_session:0
tmux show-buffer | sed '/^$/d'
#clean
cd /home/ubuntu/attack/linux-process-injection
rm inject
cd sample-process
rm sample
tmux kill-session -t my_session